# PowerDNS Configuration for Macula Platform
# PostgreSQL backend configuration

# Load PostgreSQL backend
launch=gpgsql

# PostgreSQL connection
gpgsql-host=dns-postgres
gpgsql-port=5432
gpgsql-dbname=powerdns
gpgsql-user=powerdns
gpgsql-password=powerdns-dev-secret
gpgsql-dnssec=yes

# Network configuration
local-address=0.0.0.0,::
local-port=53

# Enable HTTP API for ExternalDNS
api=yes
api-key=macula-dev-api-key
webserver=yes
webserver-address=0.0.0.0
webserver-port=8081
webserver-allow-from=0.0.0.0/0,::/0

# Logging
loglevel=5
log-dns-queries=yes
log-dns-details=yes

# Performance
receiver-threads=2
distributor-threads=3
